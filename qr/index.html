<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />

		<!-- Favicon -->
		<link rel="icon" type="image/png" href="favicon.png">

		<title>QR Generator</title>

		<!-- Stylesheets -->
		<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700,200" rel="stylesheet">
		<link href="css/bootstrap.min.css" rel="stylesheet">
		<link href="css/now-ui-kit.min.css" rel="stylesheet">
	</head>

	<!-- Main Body -->
	<body style="background-image:url('bg.jpg');">
		<div class="section section-tabs">
			<div class="container">
				<h2 class="text-center text-white font-weight-bold">QR Generator Online</h2>
				<div class="row">

					<!-- Output Card -->
					<div class="col-3">
						<div class="card h-100">
							<div class="card-body">
								<div class="text-center">
									<h3>QR Code</h3>

									<!-- QR Code Image -->
									<img id="QRImage" crossorigin="anonymous" src="https://chart.googleapis.com/chart?cht=qr&chl=&chs=160x160&chld=L|0" class="qr-code img-thumbnail img-responsive" alt="QR Code">

									<!-- Download Button -->
									<a target="_blank" href="" download="QR Code.jpg" class="downloadQR">
										<button class="btn btn-primary">Download QR</button>
									</a>
								</div>
							</div>
						</div>
					</div>

					<!-- Input Card -->
					<div class="col-9">
						<div class="card h-100">
							<div class="card-header">

								<!-- QR Code types -->
								<ul class="nav nav-tabs nav-tabs-neutral justify-content-center" role="tablist" data-background-color="orange">
									<li class="nav-item"><a class="nav-link active" data-toggle="tab" href="#url" role="tab">URL</a></li>
									<li class="nav-item"><a class="nav-link" data-toggle="tab" href="#text" role="tab">Text</a></li>
									<li class="nav-item"><a class="nav-link" data-toggle="tab" href="#wifiqr" role="tab">WiFi</a></li>
									<li class="nav-item"><a class="nav-link" data-toggle="tab" href="#vcardqr" role="tab">vCard</a></li>
									<li class="nav-item"><a class="nav-link" data-toggle="tab" href="#smsqr" role="tab">SMS</a></li>
									<li class="nav-item"><a class="nav-link" data-toggle="tab" href="#mailqr" role="tab">Email</a></li>
									<li class="nav-item"><a class="nav-link" data-toggle="tab" href="#twitter" role="tab">Twitter</a></li>
								</ul>

							</div>
							<div class="card-body">
								<div class="tab-content text-center">

									<!-- URL Section -->
									<div class="tab-pane active" id="url" role="tabpanel">
										<form onsubmit="genqr('url')">
											<div class="input-group no-border input-lg">
												<div class="input-group-prepend">
													<span class="input-group-text">
													<i class="now-ui-icons location_world"></i>
													</span>
												</div>
												<input type="url" id="urlcontent" placeholder="URL" class="form-control" required>
											</div>
											<button class="text-center btn btn-primary">Generate</button>
										</form>
									</div>

									<!-- Text Section -->
									<div class="tab-pane" id="text" role="tabpanel">
										<form onsubmit="genqr('text')">
											<textarea id="textcontent" placeholder="Enter Your Text Here" class="form-control" required></textarea>
											<button class="text-center btn btn-primary">Generate</button>
										</form>
									</div>

									<!-- WiFi Section -->
									<div class="tab-pane" id="wifiqr" role="tabpanel">
										<form onsubmit="genqr('wifi')">
											<div class="form-row">
												<div class="form-group col-md-6">
													<label>SSID</label>
													<input type="text" class="form-control" id="ssid" placeholder="SSID" required>
												</div>
												<div class="form-group col-md-6">
													<label>Password</label>
													<input type="text" class="form-control" id="pswd" placeholder="Password">
												</div>
											</div>
											<div class="form-row">
												<div class="form-group col-md-6">
													<label>Security</label>
													<select id="crpt" class="form-control">
														<option value="nopass">None</option>
														<option value="WPA" selected>WPA/WPA2</option>
														<option value="WEP">WEP</option>
													</select>
												</div>
												<div class="form-group col-md-6">
													<label>Type</label>
													<select id="hddn" class="form-control">
														<option value="false" selected>Visible</option>
														<option value="true">Hidden</option>
													</select>
												</div>
											</div>
											<button class="text-center btn btn-primary">Generate</button>
										</form>
									</div>

									<!-- vCard Section -->
									<div class="tab-pane" id="vcardqr" role="tabpanel">
										<form onsubmit="genqr('vcard')">
											<label>Name</label>
											<div class="form-row">
												<div class="form-group col-md-6">
													<input type="text" class="form-control" id="fname" placeholder="First Name">
												</div>
												<div class="form-group col-md-6">
													<input type="text" class="form-control" id="lname" placeholder="Last Name">
												</div>
											</div>
											<label>Contact</label>
											<div class="form-row">
												<div class="form-group col-md-6">
													<input type="text" class="form-control" id="phone" placeholder="Phone">
												</div>
												<div class="form-group col-md-6">
													<input type="text" class="form-control" id="fax" placeholder="Fax">
												</div>
											</div>
											<div class="form-row">
												<div class="form-group col-md-6">
													<input type="text" class="form-control" id="mobile" placeholder="Mobile">
												</div>
												<div class="form-group col-md-6">
													<input type="email" class="form-control" id="email" placeholder="Email">
												</div>
											</div>
											<label>Address</label>
											<div class="form-row">
												<div class="form-group col-md-12">
													<input type="text" class="form-control" id="street" placeholder="Street">
												</div>
											</div>
											<div class="form-row">
												<div class="form-group col-md-6">
													<input type="text" class="form-control" id="city" placeholder="City">
												</div>
												<div class="form-group col-md-6">
													<input type="text" class="form-control" id="state" placeholder="State">
												</div>
											</div>
											<div class="form-row">
												<div class="form-group col-md-6">
													<input type="text" class="form-control" id="country" placeholder="Country">
												</div>
												<div class="form-group col-md-6">
													<input type="text" class="form-control" id="zip" placeholder="Zip Code">
												</div>
											</div>
											<label>Company</label>
											<div class="form-row">
												<div class="form-group col-md-6">
													<input type="text" class="form-control" id="company" placeholder="Company Name">
												</div>
												<div class="form-group col-md-6">
													<input type="text" class="form-control" id="job" placeholder="Job Title">
												</div>
											</div>
											<label>Others</label>
											<div class="form-row">
												<div class="form-group col-md-6">
													<input type="text" class="form-control" id="website" placeholder="Website">
												</div>
												<div class="form-group col-md-6">
													<input type="text" class="form-control" id="birthday" placeholder="Birthday (YYYY-MM-DD)">
												</div>
											</div>
											<button class="text-center btn btn-primary">Generate</button>
										</form>
									</div>

									<!-- SMS Section -->
									<div class="tab-pane" id="smsqr" role="tabpanel">
										<form onsubmit="genqr('sms')">
											<div class="form-row">
												<div class="form-group col-12">
													<input type="text" class="form-control" id="smsnumber" placeholder="Your Number">
												</div>
												<div class="form-group col-12">
													<label>SMS Content</label>
													<textarea class="form-control" id="smscontent" placeholder="SMS Content"></textarea>
												</div>
											</div>
											<button class="text-center btn btn-primary">Generate</button>
										</form>
									</div>

									<!-- Email Section -->
									<div class="tab-pane" id="mailqr" role="tabpanel">
										<form onsubmit="genqr('email')">
											<div class="form-row">
												<div class="form-group col-12">
													<input type="text" class="form-control" id="emailid" placeholder="Your Email">
												</div>
												<div class="form-group col-12">
													<input type="text" class="form-control" id="emailsubject" placeholder="Subject">
												</div>
												<div class="form-group col-12">
													<label>Email Content</label>
													<textarea class="form-control" id="emailcontent" placeholder="Email Content"></textarea>
												</div>
											</div>
											<button class="text-center btn btn-primary">Generate</button>
										</form>
									</div>

									<!-- Twitter Section -->
									<div class="tab-pane" id="twitter" role="tabpanel">
										<form onsubmit="genqr('tweet')">
											<div class="form-row">
												<div class="form-group col-12">
													<label>Tweet Content</label>
													<textarea class="form-control" id="tweet" placeholder="Tweet Content" maxlength="280" required></textarea>
												</div>
											</div>
											<button class="text-center btn btn-primary">Generate</button>
										</form>
									</div>

								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		
		<!-- Footer -->
		
		<footer class="footer fixed-bottom" data-background-color="black">
			<div class="container text-center">ChavaZystem Tech Â®</div>
		</footer>
		
		<!-- JavaScripts -->
		<script src="js/jquery.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
		<script src="js/now-ui-kit.min.js"></script>
		
		<!-- The Magic Begins Here -->
		<script>
			// To Convert Image to base64 for direct download
			function getDataUrl(img) {
				const canvas = document.createElement('canvas');
				const ctx = canvas.getContext('2d');
				canvas.width = img.width;
				canvas.height = img.height;
				ctx.drawImage(img, 0, 0);
				return canvas.toDataURL('image/jpeg');
			}
			
			
			// To generate QR code
			function genqr(type) {
				if (type=="url") {
					$('.qr-code').attr('src', 'https://chart.googleapis.com/chart?cht=qr&chl=' + $('<div/>').text($('#urlcontent').val()).html() + '&chs=160x160&chld=L|0');
				} else if (type=="text") {
					$('.qr-code').attr('src', 'https://chart.googleapis.com/chart?cht=qr&chl=' + $('<div/>').text($('#textcontent').val()).html() + '&chs=160x160&chld=L|0');
				} else if (type=="wifi") {
					$('.qr-code').attr('src', 'https://chart.googleapis.com/chart?cht=qr&chl=WIFI:T:' + $('<div/>').text($('#crpt').val() + ';S:' + $('#ssid').val() + ';P:' + $('#pswd').val() + ';H:' + $('#hddn').val()).html() + '&chs=160x160&chld=L|0');
				} else if (type=="vcard") {
					$('.qr-code').attr('src', 'https://chart.googleapis.com/chart?cht=qr&chl=BEGIN:VCARD%0AVERSION:3.0%0AN:' + $('<div/>').text($('#lname').val() + ';' + $('#fname').val() + '%0AFN:' + $('#fname').val() + ' ' + $('#lname').val() + '%0AORG:' + $('#company').val() + '%0ATITLE:' + $('#job').val() + '%0AADR:;;' + $('#street').val() + ';' + $('#city').val() + ';' + $('#state').val() + ';' + $('#zip').val() + ';' + $('#country').val() + '%0ATEL;CELL:' + $('#mobile').val() + '%0ATEL;WORK;VOICE:' + $('#phone').val() + '%0ATEL;FAX:' + $('#fax').val() + '%0AEMAIL;WORK;INTERNET:' + $('#email').val() + '%0AURL:' + $('#website').val() + '%0ABDAY:' + $('#birthday').val() + '%0AEND:VCARD').html() + '&chs=160x160&chld=L|0');
				} else if (type=="sms") {
					$('.qr-code').attr('src', 'https://chart.googleapis.com/chart?cht=qr&chl=SMSTO:' + $('<div/>').text($('#smsnumber').val() + ':' + $('#smscontent').val()).html() + '&chs=160x160&chld=L|0');
				} else if (type=="email") {
					$('.qr-code').attr('src', 'https://chart.googleapis.com/chart?cht=qr&chl=MATMSG:TO:' + $('<div/>').text($('#emailid').val() + ';SUB:' + $('#emailsubject').val() + ';BODY:' + $('#emailcontent').val() + ';;').html() + '&chs=160x160&chld=L|0');
				} else if (type=="tweet") {
					$('.qr-code').attr('src', 'https://chart.googleapis.com/chart?cht=qr&chl=https://twitter.com/intent/tweet?text=' + encodeURIComponent(encodeURIComponent(document.getElementById("tweet").value)) + '&chs=160x160&chld=L|0');
				}
				event.preventDefault();
				document.querySelector('#QRImage').addEventListener('load', function (event) {
					$('.downloadQR').attr('href', getDataUrl(event.currentTarget));
				});
			}
		</script>
		
	</body>
</html>
